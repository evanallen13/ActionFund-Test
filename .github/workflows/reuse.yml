name: Reuse other workflow

on: [workflow_dispatch]

jobs:
  setup: 
    runs-on: ubuntu-latest
    outputs:
      OWNER_NAME: ${{ steps.OWNER_NAME.outputs.OWNER_NAME }}
    steps:
      - id: OWNER_NAME
        run: echo "OWNER_NAME=${{github.repository_owner}}" >> "$GITHUB_OUTPUT"
        
  job2:
    runs-on: ubuntu-latest
    needs: setup
    steps:
      - env:
          OUTPUT1: ${{needs.setup.outputs.OWNER_NAME}}
        run: echo "$OUTPUT1"
      
  call-workflow:
    needs: setup
    uses: ./.github/workflows/reusable.yml
    with:
      who-to-greet: '@octocat'
    
  # use-output:
  #   runs-on: ubuntu-latest
  #   needs: [call-workflow]
  #   steps:
  #     - run: echo "Time was ${{ needs.call-workflow.outputs.current-time }}"
